<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>랭킹 데이터 전송 연습</title>
    <style>
        body { font-family: sans-serif; }
        label { display: block; margin-bottom: 5px; }
        input { margin-bottom: 10px; }
    </style>
</head>
<body>
    <h1>랭킹 데이터 전송 연습</h1>

    <form id="rankForm">
        <label for="nickname">닉네임:</label>
        <input type="text" id="nickname" name="nickname" required>

        <label for="turn">턴 수:</label>
        <input type="number" id="turn" name="turn" required>

        <label for="score">점수:</label>
        <input type="number" id="score" name="score" required>

        <button type="submit">전송</button>
    </form>

    <script>
        const rankForm = document.getElementById('rankForm');

        rankForm.addEventListener('submit', async (event) => {
            event.preventDefault(); // 기본 폼 제출 동작 방지

            const nickname = document.getElementById('nickname').value;
            const turn = document.getElementById('turn').value;
            const score = document.getElementById('score').value;

            const data = { nickname, turn, score };

            try {
                const response = await fetch('save_practice_data.php', { // PHP 파일 이름
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });

                const result = await response.json();

                if (result.success) {
                    alert('데이터가 성공적으로 전송되었습니다.');
                } else {
                    alert(`데이터 전송 실패: ${result.message}`);
                }

            } catch (error) {
                console.error('데이터 전송 중 오류 발생:', error);
                alert('데이터 전송 중 오류가 발생했습니다.');
            }
        });
    </script>
</body>
</html>